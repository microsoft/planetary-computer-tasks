# Telemetry

## Structured Logs

The pctasks executor generates logs for the following events:

1. `WorkflowCreated`
2. `WorkflowFinished`
3. `JobCreated`
4. `JobFinished` 
5. `JobPartitionCreated`
6. `JobPartitionFinished`
7. `TaskCreated`
8. `TaskFinished`

In general, a record is emitted when something is created or finished, at the Workflow, Job, JobPartition, and Task levels.

Depending on the level (Workflow, Job, JobPartition, Task) the logs will contain the following fields:

|    Field    |      Record Levels      |                              Description                              |
| ----------- | ----------------------- | --------------------------------------------------------------------- |
| type        | All                     | The event type, from the list above                                   |
| workflowId  | All                     | The ID of the workflow, from the workflow definition                  |
| datasetId   | All                     | The ID of the dataset, from the workflow definition                   |
| runId       | All                     | The of the workflow run, generated by pctasks                         |
| recordLevel | All                     | The level (Workflow, Job, JobPartition, Task) this record belongs to. |
| jobId       | Job, JobPartition, Task | The ID of the job, from the workflow definition                       |
| partitionId | JobPartition, Task      | The ID of the partition, from the workflow definition and pctasks     |
| taskId      | Task                    | The ID of the task, from the workflow definition and pctasks          |

Depending on the record, additional fields will be included:

* `status`: Present for "Finished" events, indicating success or failure of that operation.
* `errors`: Present for `JobFinished` and `TaskFinished` events when
  `status="failed"`, containing a list of errors.
